<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Session results</title>
<link rel="stylesheet" href="css/backgrid-0.3.5.css">
<link rel="stylesheet" href="css/backgrid-select-all.css">
<link rel="stylesheet" href="css/backgrid-paginator.css">
<link rel="stylesheet" href="css/backgrid-filter.css">
</head>
<body>
<h1>Session 2017 results</h1>
<div>
  <button type="button" class="btn btn-outline-primary">
    <a href="stats.html">Открыть диаграмму</a>
    </button>
</div>
<div id="grid-result" class="backgrid-container"></div>
<script src="js/jquery-1.11.0.js"></script>
<script src="js/underscore-1.6.0.js"></script>
<script src="js/backbone-1.1.2.js"></script>
<script src="js/backbone-pageable.js"></script>
<script src="js/backgrid-0.3.5.js"></script>
<script src="js/backgrid-select-all.js"></script>
<script src="js/backgrid-paginator.js"></script>
<script src="js/backgrid-filter.js"></script>
<script>
$(function() {
var ExamResult = Backbone.Model.extend({});

var data = [
  {
    "name": "Алексеев Семен Семенович",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 4
  },
  {
    "name": "Алексеев Семен Семенович",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 4
  },
  {
    "name": "Алексеев Семен Семенович",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 5
  },
  {
    "name": "Алексеев Семен Семенович",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 4
  },
  {
    "name": "Алексеев Семен Семенович",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 4
  },
  {
    "name": "Алексеев Семен Семенович",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 4
  },
  {
    "name": "Аммосов Алексей Николаевич",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 4
  },
  {
    "name": "Аммосов Алексей Николаевич",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 4
  },
  {
    "name": "Аммосов Алексей Николаевич",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 5
  },
  {
    "name": "Аммосов Алексей Николаевич",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 4
  },
  {
    "name": "Аммосов Алексей Николаевич",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 4
  },
  {
    "name": "Аммосов Алексей Николаевич",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 4
  },
  {
    "name": "Анисимова Анастасия Ананьевна",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 4
  },
  {
    "name": "Анисимова Анастасия Ананьевна",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 4
  },
  {
    "name": "Анисимова Анастасия Ананьевна",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 3
  },
  {
    "name": "Анисимова Анастасия Ананьевна",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 4
  },
  {
    "name": "Анисимова Анастасия Ананьевна",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 3
  },
  {
    "name": "Анисимова Анастасия Ананьевна",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 4
  },
  {
    "name": "Антипин Георгий Прокопьевич",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 4
  },
  {
    "name": "Антипин Георгий Прокопьевич",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 3
  },
  {
    "name": "Антипин Георгий Прокопьевич",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 4
  },
  {
    "name": "Антипин Георгий Прокопьевич",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 3
  },
  {
    "name": "Антипин Георгий Прокопьевич",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 5
  },
  {
    "name": "Антипин Георгий Прокопьевич",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 4
  },
  {
    "name": "Гаврильев Айаал Макарович",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 4
  },
  {
    "name": "Гаврильев Айаал Макарович",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 5
  },
  {
    "name": "Гаврильев Айаал Макарович",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 5
  },
  {
    "name": "Гаврильев Айаал Макарович",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 3
  },
  {
    "name": "Гаврильев Айаал Макарович",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 5
  },
  {
    "name": "Гаврильев Айаал Макарович",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 3
  },
  {
    "name": "Добрецов Геннадий Геннадьевич",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 3
  },
  {
    "name": "Добрецов Геннадий Геннадьевич",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 5
  },
  {
    "name": "Добрецов Геннадий Геннадьевич",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 3
  },
  {
    "name": "Добрецов Геннадий Геннадьевич",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 3
  },
  {
    "name": "Добрецов Геннадий Геннадьевич",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 5
  },
  {
    "name": "Добрецов Геннадий Геннадьевич",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 4
  },
  {
    "name": "Жирков Михаил Михайлович",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 4
  },
  {
    "name": "Жирков Михаил Михайлович",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 5
  },
  {
    "name": "Жирков Михаил Михайлович",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 4
  },
  {
    "name": "Жирков Михаил Михайлович",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 5
  },
  {
    "name": "Жирков Михаил Михайлович",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 5
  },
  {
    "name": "Жирков Михаил Михайлович",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 3
  },
  {
    "name": "Илларионов Денис Максимович",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 5
  },
  {
    "name": "Илларионов Денис Максимович",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 4
  },
  {
    "name": "Илларионов Денис Максимович",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 5
  },
  {
    "name": "Илларионов Денис Максимович",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 5
  },
  {
    "name": "Илларионов Денис Максимович",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 3
  },
  {
    "name": "Илларионов Денис Максимович",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 4
  },
  {
    "name": "Ноговицын Виктор Робертович",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 5
  },
  {
    "name": "Ноговицын Виктор Робертович",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 5
  },
  {
    "name": "Ноговицын Виктор Робертович",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 5
  },
  {
    "name": "Ноговицын Виктор Робертович",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 5
  },
  {
    "name": "Ноговицын Виктор Робертович",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 5
  },
  {
    "name": "Ноговицын Виктор Робертович",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 3
  },
  {
    "name": "Осипов Айсиэн Андреевич",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 4
  },
  {
    "name": "Осипов Айсиэн Андреевич",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 5
  },
  {
    "name": "Осипов Айсиэн Андреевич",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 5
  },
  {
    "name": "Осипов Айсиэн Андреевич",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 4
  },
  {
    "name": "Осипов Айсиэн Андреевич",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 5
  },
  {
    "name": "Осипов Айсиэн Андреевич",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 4
  },
  {
    "name": "Осипова Саргылана Алексеевна",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 4
  },
  {
    "name": "Осипова Саргылана Алексеевна",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 4
  },
  {
    "name": "Осипова Саргылана Алексеевна",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 3
  },
  {
    "name": "Осипова Саргылана Алексеевна",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 5
  },
  {
    "name": "Осипова Саргылана Алексеевна",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 4
  },
  {
    "name": "Осипова Саргылана Алексеевна",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 4
  },
  {
    "name": "Поротов Василий Николаевич",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 3
  },
  {
    "name": "Поротов Василий Николаевич",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 4
  },
  {
    "name": "Поротов Василий Николаевич",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 4
  },
  {
    "name": "Поротов Василий Николаевич",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 4
  },
  {
    "name": "Поротов Василий Николаевич",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 4
  },
  {
    "name": "Поротов Василий Николаевич",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 5
  },
  {
    "name": "Семенов Андрей Эдуардович",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 5
  },
  {
    "name": "Семенов Андрей Эдуардович",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 5
  },
  {
    "name": "Семенов Андрей Эдуардович",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 3
  },
  {
    "name": "Семенов Андрей Эдуардович",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 5
  },
  {
    "name": "Семенов Андрей Эдуардович",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 4
  },
  {
    "name": "Семенов Андрей Эдуардович",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 4
  },
  {
    "name": "Хахыров Петр Анатольевич",
    "subject": "subject005",
    "date": "27.05.2018",
    "mark": 5
  },
  {
    "name": "Хахыров Петр Анатольевич",
    "subject": "subject002",
    "date": "29.05.2018",
    "mark": 4
  },
  {
    "name": "Хахыров Петр Анатольевич",
    "subject": "subject001",
    "date": "01.06.2018",
    "mark": 5
  },
  {
    "name": "Хахыров Петр Анатольевич",
    "subject": "subject003",
    "date": "04.06.2018",
    "mark": 4
  },
  {
    "name": "Хахыров Петр Анатольевич",
    "subject": "subject004",
    "date": "07.06.2018",
    "mark": 5
  },
  {
    "name": "Хахыров Петр Анатольевич",
    "subject": "subject006",
    "date": "10.06.2018",
    "mark": 5
  }
];

var columns = [{
    name: "id",
    label: "ID",
    editable: false,
    cell: Backgrid.IntegerCell.extend({
      orderSeparator: ''
    })
  }, {
    name: "name",
    label: "ФИО",
    cell: "string"
  }, {
    name: "subject",
    label: "Предмет",
    cell: Backgrid.SelectCell.extend({
      optionValues: [["Основы программирования", "subject001"], 
      ["Анализ данных", "subject002"], 
      ["Технологии компонентного программирования", "subject003"], 
      ["Основы JavaScript","subject004"], 
      ["Физика", "subject005"],
      ["Основы Python", "subject006"]]
    })
  }, {
    name: "date",
    label: "Дата сдачи",
    cell: "string"
  }, {
    name: "mark",
    label: "Оценка",
    cell: Backgrid.SelectCell.extend({
      optionValues: [["5", "5"], 
      ["4", "4"], 
      ["3", "3"], 
      ["2", "2"]]
    })
  }
];
//var ExamResultsList = Backbone.Collection.extend({
//  model: ExamResult,
//   url: '/data/session2017data.json'
//});

//var examResults = new ExamResultsList(); 
//examResults.fetch();

var PageableExamResults = Backbone.PageableCollection.extend({
  model: ExamResult,
  state: {
    pageSize: 15
  },
  mode: "client" // page entirely on the client side
});

var pageableExamResults = new PageableExamResults(data);

// Set up a grid to use the pageable collection
var pageableGrid = new Backgrid.Grid({
  columns: [{
    // enable the select-all extension
    name: "",
    cell: "select-row",
    headerCell: "select-all"
  }].concat(columns),
  collection: pageableExamResults
});

// Render the grid
var $page = $("#grid-result");
$page.append(pageableGrid.render().el)

// Initialize the paginator
var paginator = new Backgrid.Extension.Paginator({
  collection: pageableExamResults
});

// Render the paginator
$page.after(paginator.render().el);

// Initialize a client-side filter to filter on the client
// mode pageable collection's cache.
var filter = new Backgrid.Extension.ClientSideFilter({
  collection: pageableExamResults,
  fields: ['name']
});

// Render the filter
$page.before(filter.render().el);

// Add some space to the filter and move it to the right
$(filter.el).css({float: "right", margin: "20px"});

// Fetch some data
// pageableExamResults.fetch({reset: true});

});
</script>
</body>
</html>
